# README

## Versions and configurations

#### Creating the app:
##### <code>rails new arrayApp --api --skip-active-record</code> *(Without this mongoDB gave me problems)*


#### Creating the files: 
##### <code>rails g scaffold NumberArray nums:array</code> *(autogenerated)*

* Ruby version
   * ruby 3.0.2p107

* Ruby on rails version
  * Rails 6.1.4.1

* System dependencies
  * 'MongoDB'
    * <code>gem install mongoid</code> or <code>bundle install</code> *inside the app folder* 

### DataBase configuration
#### <code>./app/config/locales/mongoid.yml::line:7</code>
#### In that line goes the Uri of your database in order to connect database MongoDb

## Endpoints

### Post
##### Creating the array with a determined length by the user
##### Url used: <code>http://127.0.0.1:3000/create/number_arrays/</code>

#### Body 
##### <code>{ "nums": number }</code> 
* HTTP Responses
  * 202 OK
    * <code>nums</code> Integer bigger than 10
    * <code>nums</code> Number in a string bigger than 10
  * 422 unprocessable_entity
    * <code>!=nums</code> The body doesn't contains the key "nums"
    * <code>nums</code> String that is not a number
    * <code>nums</code> Integer lesser than 10
    * <code>nums</code> Number in a string lesser than 10    
    * Problem creating the new array
    
* JSON Responses *in order*
  * 202 OK
    * <code>{ NumberArray Object }</code> Integer bigger than 10
    * <code>{ NumberArray Object }</code> Number in a string bigger than 10
  * 422 unprocessable_entity
    * <code>{ "Error": "There is not key 'nums' in the body" }</code> The body doesn't contains the key "nums"
    * <code>{ "Error": "'nums' must be a number" }</code> String that is not a number   
    * <code>{ "Error": "The lenght of the array cannot be less than 10" }</code> Integer lesser than 10
    * <code>{ "Error": "The lenght of the array cannot be less than 10" }</code> Number in a string lesser than 10


### Get
##### Getting the longest sequence, first and last number in an array
##### Url used: <code>http://127.0.0.1:3000/get/number_arrays/:id</code>

#### Params
##### <code>:id</code>
* HTTP Responses
  * 202 Ok
    * <code>:id</code>  Was a valid id
  * 404 not_found
    * <code>:id</code>  Wasn't found on the database
    * 
* JSON Responses
  * 202 Ok
    * <code>{ "LargestSquence": [initialNumber, finalNumber] }</code>
  * 404 not_found
    * <code>{ "Error": "There was not array with that id" }</code>  
